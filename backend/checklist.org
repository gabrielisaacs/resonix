 #+ title: Resonix Backend Tasks Checklist [0%]
* API Routes [0%]
- [-] Playlists: filter by `stream` permission [50%]
  - [X] Trending with parameters [100%]
    - [X] Time: month, week, year, all time
    - [X] Sort order: no of tracks, play_count
  - [X] Get by Id
  - [X] Get Playlist tracks by id
  - [X] Search For playlists by query with filters:
    - [X] genre: string[]
    - [X] mood: string[]
    - [X] sort: by relevant, popular, recent: string
  - [ ] add pagination to all routes by query params
  - [ ] Actions [0%]:
    - [ ] Like
    - [ ] Create New
    - [ ] Add track(s)
    - [ ] Remove tracks
  - [ ] Swagger Documentation [0%]
  - [ ] Test cases [0%]
    - [ ] Trending tracks [0%]
      - [ ] time param is only month, week, year or all time
      - [ ] time param defaults to week
      - [ ] time type can only be string
      - [ ] wrong time returns expected error values and status codes
      - [ ] sort order can only be tracks_num or play_count
      - [ ] sort order defaults to play_count if not provided
      - [ ] wrong sort value returns expected error and status codes
    - [ ] Get playlist by id [0%]
      - [ ] fails with wrong id. Returns 404 error object
      - [ ] result id matches requested id
    - [ ] Get playlist tracks by id
    - [ ] Search playlist by query with filters
    - [ ] Pagination
- [-] Tracks [57%]
  - [X] Trending tracks [100%]
    - [X] filter out unstreamable tracks (is_streamable)
    - [X] filter by genre (optional)
    - [X] filter by time (default week)
    - [X] sort by default or release_date
    - [X] paginate results based on page_size (default = 20)
    - [X] validate query strings [100%]
      - [X] genre [100%]
        - [X] is optional
        - [X] trim whitespace
        - [X] is not empty
        - [X] only matches alphabets
        - [X] code escape
      - [X] time [100%]
        - [X] default is 'week'
        - [X] trim
        - [X] can only be week, month, year or allTime
        - [X] escape
      - [X] sort by [100%]
        - [X] is optional
        - [X] can only be release_date
        - [X] es cape
      - [X] page [100%]
        - [X] default 1
        - [X] trim
        - [X] is integer
        - [X] is > 0
        - [X] escape
      - [X] page_size [100%]
        - [X] default 20
        - [X] trim
        - [X] is integer
        - [X] is btw 10 and 40
          - [X] escape
  - [X] Get track by id [100%]
    - [X] Validate track id [100%]
      - [X] can only be alphanumeric
  - [X] Stream track [100%]
    - [X] Validate right headers
    - [X] Che
  - [ ] Download [0%]
    - [ ] Validate filename - for downloading (optional)
    - [ ] Validate param 'original' (optional)
  - [X] Track details [0%]
  - [-] Search [75%]
    - [X] validate query parameters [100%]
      - [X] query is not empty and escaped
      - [X] genre (optional) is and escaped
      - [X] sort_method (optional)is only 'relevant', 'popular' or 'recent'
      - [X] mood (optional):
        - [X] is a list
        - [X] elements are only alphabetic strings
      - [X] only_downloadable (optional) is boolean
      - [X] includePurchaseable (optional) is boolean
      - [X] is_purchaseable (optional) is boolean
      - [X] has_downloads (optional) is boolean
      - [X] key (optional) is array of  strings
      - [X] bpm_min (optional) is numeric
      - [X] bpm_max (optional) is numeric
    - [X] implement controller and expose router
    - [ ] Tests
    - [X] filter out unstreamable tracks
  - [ ] Swagger Documentation [0%]
    - [ ] Trending Tracks
    - [ ] Get track by id
    - [ ] Stream track
    - [ ] Download track
    - [ ] Track detail
    - [ ] Search
  - Tests [0%]
- [ ] Global Tests [0%]
  - [ ] Hostname Errors Handled properly [0%]
    - [ ] Connection time out
    - [ ] Wrong hostname
  [ ]
  [ ]


* Pending Features/Checks [0%]
- [ ] Validate app_name for all incoming requests
- [ ] Validage ids for all incoming request parameters/queries
* API Documentation [0%]
